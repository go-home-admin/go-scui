"use strict";(self["webpackChunkscui"]=self["webpackChunkscui"]||[]).push([[1686],{22887:function(e,t,n){n.r(t),n.d(t,{default:function(){return N}});var o=n(58222);const r=e=>((0,o.pushScopeId)("data-v-03a2c1a0"),e=e(),(0,o.popScopeId)(),e),i=(0,o.createTextVNode)("普通打印"),c=r((()=>(0,o.createElementVNode)("div",{style:{height:"20px"}},null,-1))),l={class:"printMain",ref:"printMain"},a={class:"item"},s=(0,o.createTextVNode)("打印内容1 "),d=(0,o.createTextVNode)(),u=r((()=>(0,o.createElementVNode)("p",{class:"no-print"},"忽略打印",-1))),p=r((()=>(0,o.createElementVNode)("div",{style:{"page-break-after":"always"}},null,-1))),m=r((()=>(0,o.createElementVNode)("div",{class:"item"},"打印内容2",-1))),f=(0,o.createTextVNode)("动态打印");function h(e,t,n,r,h,y){const v=(0,o.resolveComponent)("el-alert"),b=(0,o.resolveComponent)("el-button"),C=(0,o.resolveComponent)("el-icon-eleme-filled"),x=(0,o.resolveComponent)("el-icon"),N=(0,o.resolveComponent)("el-tab-pane"),w=(0,o.resolveComponent)("el-tabs"),V=(0,o.resolveComponent)("el-card"),g=(0,o.resolveComponent)("el-main");return(0,o.openBlock)(),(0,o.createBlock)(g,null,{default:(0,o.withCtx)((()=>[(0,o.createVNode)(V,{shadow:"never"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(w,{"tab-position":"top"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(N,{label:"普通打印"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(v,{title:"打印当前页面已存在的元素,如包含.no-print样式就忽略,分页打印就需要{page-break-after: always}控制",type:"success",style:{"margin-bottom":"20px"}}),(0,o.createVNode)(b,{type:"primary",onClick:y.print},{default:(0,o.withCtx)((()=>[i])),_:1},8,["onClick"]),c,(0,o.createElementVNode)("div",l,[(0,o.createElementVNode)("div",a,[s,(0,o.createVNode)(x,null,{default:(0,o.withCtx)((()=>[(0,o.createVNode)(C)])),_:1}),d,u]),p,m],512)])),_:1}),(0,o.createVNode)(N,{label:"动态打印"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(v,{title:"打印创建的DOM结构,适用于远程获取模板后打印",type:"success",style:{"margin-bottom":"20px"}}),(0,o.createVNode)(b,{type:"primary",onClick:y.print2},{default:(0,o.withCtx)((()=>[f])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1})])),_:1})}const y=function(e,t){if(!(this instanceof y))return new y(e,t);if(this.options=this.extend({noPrint:".no-print"},t),"string"===typeof e)try{this.dom=document.querySelector(e)}catch{var n=document.createElement("div");n.innerHTML=e,this.dom=n}else this.isDOM(e),this.dom=this.isDOM(e)?e:e.$el;this.init()};y.prototype={init:function(){var e=this.getStyle()+this.getHtml();this.writeIframe(e)},extend:function(e,t){for(var n in t)e[n]=t[n];return e},getStyle:function(){for(var e="",t=document.querySelectorAll("style,link"),n=0;n<t.length;n++)e+=t[n].outerHTML;return e+="<style>"+(this.options.noPrint?this.options.noPrint:".no-print")+"{display:none;}</style>",e+="<style>html,body{background-color:#fff;}</style>",e},getHtml:function(){for(var e=document.querySelectorAll("input"),t=document.querySelectorAll("textarea"),n=document.querySelectorAll("select"),o=0;o<e.length;o++)"checkbox"==e[o].type||"radio"==e[o].type?1==e[o].checked?e[o].setAttribute("checked","checked"):e[o].removeAttribute("checked"):(e[o].type,e[o].setAttribute("value",e[o].value));for(var r=0;r<t.length;r++)"textarea"==t[r].type&&(t[r].innerHTML=t[r].value);for(var i=0;i<n.length;i++)if("select-one"==n[i].type){var c=n[i].children;for(var l in c)"OPTION"==c[l].tagName&&(1==c[l].selected?c[l].setAttribute("selected","selected"):c[l].removeAttribute("selected"))}return this.dom.outerHTML},writeIframe:function(e){var t,n,o=document.createElement("iframe"),r=document.body.appendChild(o);o.id="myIframe",o.setAttribute("style","position:absolute;width:0;height:0;top:-10px;left:-10px;"),t=r.contentWindow||r.contentDocument,n=r.contentDocument||r.contentWindow.document,n.open(),n.write(e),n.close();var i=this;o.onload=function(){i.toPrint(t),setTimeout((function(){document.body.removeChild(o)}),100)}},toPrint:function(e){try{setTimeout((function(){e.focus();try{e.document.execCommand("print",!1,null)||e.print()}catch(t){e.print()}e.close()}),10)}catch(t){console.log("err",t)}},isDOM:"object"===typeof HTMLElement?function(e){return e instanceof HTMLElement}:function(e){return e&&"object"===typeof e&&1===e.nodeType&&"string"===typeof e.nodeName}};var v=y,b={name:"print",data(){return{}},methods:{print(){v(this.$refs.printMain)},print2(){var e="<h2>TITLE</h2><p>后创建的DOM结构</p>";v(e)}}},C=n(83744);const x=(0,C.Z)(b,[["render",h],["__scopeId","data-v-03a2c1a0"]]);var N=x}}]);